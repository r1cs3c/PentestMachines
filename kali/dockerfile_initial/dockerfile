#install basic image programs
FROM kalilinux/kali-rolling
#update kali base version
RUN apt-get update
RUN apt-get upgrade -y
RUN apt-get install -y apt-utils
#Install vim
RUN apt-get install -y vim
RUN apt-get install -y vim-gtk
#Install ssh server ans start up
RUN apt-get install -y ssh
#add python
RUN apt-get install -y python
#add net tools
RUN apt-get install -y net-tools
#install netcat service for compose up to work
RUN apt install -y netcat


#Set VNC Server variables
ENV USER=root 
ENV HOME=/root

#Set SSH Server UP
RUN echo "Port 2222" >> /etc/ssh/sshd_config
RUN echo "ListenAddress 0.0.0.0" >> /etc/ssh/sshd_config
RUN echo "PasswordAuthentication yes" >> /etc/ssh/sshd_config
RUN echo "AllowUsers  kali" >> /etc/ssh/sshd_config

#add kali user for ssh
RUN useradd kali -p kali